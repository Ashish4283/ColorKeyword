<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0"> 
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0;
            display: flex; 
            flex-direction: column;
            align-items: center;
            background-color: #007bff; /* Change background color to a cool blue (#007bff) */
            min-height: 100vh;
        }

        h1 {
            background-color: #4CAF50;
            color: white;
            padding: 10px;
            text-align: center;
        }

        #container {
            display: flex;
            flex: 1;
            justify-content: space-between;
            width: 90%;
            background-color: #fff;
            border-radius: 5px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
            margin-top: 20px;
        }

        #leftBox, #rightBox {
            flex: 1;
            padding: 20px;
            box-sizing: border-box;
        }
        
        #leftBox textarea, #rightBox textarea {
            width: 100%;
            padding: 10px;
            border: 1px solid #ccc;
            border-radius: 5px;
        }

        #convertButton {
            margin-top: 10px;
            padding: 10px 20px;
            background-color: #4CAF50;
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
        }

        #counter {
            margin-top: 10px;
        }

        #htmlBox {
            flex: 1;
            padding: 20px;
            box-sizing: border-box;
            background-color: #fff;
            border-radius: 5px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
            margin-top: 20px;
        }

        #htmlBox h2 {
            margin-top: 0;
            color: #4CAF50;
        }

        #htmlOutput {
            border: 1px solid #ccc;
            padding: 10px;
            border-radius: 5px;
        }

        /* Style for the converted text */
        #rightBox #outputBox {
            border: 1px solid #4CAF50;
            padding: 10px;
            border-radius: 5px;
            background-color: #f0f0f0;
            color: #333;
            font-family: Arial, sans-serif;
            font-size: 16px;
            line-height: 1.6;
        }
    </style>
</head>
<body>
<h1> WS Short Description Tool </h1>
    <div id="container">
        <div id="leftBox">
            <textarea id="inputBox" rows="20" placeholder="Enter text"></textarea>
            <div id="leftCounter" class="counter"></div>
        </div>
        <div id="rightBox">
            <textarea id="outputBox" rows="10" placeholder="Converted text"></textarea>
            <div id="rightCounter" class="counter"></div>
            <button id="copyTextButton" onclick="copyText()">Copy Text</button>
        </div>
        <button id="convertButton" onclick="convertShortDescription()">Convert</button>
    </div>

    <div id="htmlBox" style="width: 80%;">
        <h2>Fix Special Characters</h2>
        <div id="htmlOutput"></div>
        <button onclick="convertToHTML()">Click to Fix Special Characters</button>
        <button onclick="copyToClipboard()">Copy HTML</button>
    </div>

<div>
    <h1>Instructions:</h1>
    <ol>
        <!-- Your instructions here -->
    </ol>
</div>


    <script>
   function convertShortDescription() {
    var inputText = document.getElementById('inputBox').value;
    var outputText = document.getElementById('outputBox');
    var leftCounter = document.getElementById('leftCounter');
    var rightCounter = document.getElementById('rightCounter');

    // Remove additional blank lines at the end
    inputText = inputText.replace(/\n+$/, '');

    // Enclose the input text within <p></p> tags
    var shortDescription = '<p>' + inputText + '</p>';

    outputText.innerHTML = shortDescription;

    // Update character counter
    leftCounter.innerText = 'Characters: ' + inputText.length;
    rightCounter.innerText = 'Characters: ' + shortDescription.length;
	}

function convertToHTML() {
    var inputText = document.getElementById('inputBox').value;
    var htmlOutput = document.getElementById('htmlOutput');

    // Remove extra line breaks at the end
    inputText = inputText.trim().replace(/\n+$/, '');

    // Split the input text into lines
    var lines = inputText.split('\n');

    // Apply sentence casing to each line and join them with <br> tags
    var formattedText = lines.map(function(line) {
        return sentenceCase(line);
    }).join('<br>');

    // Set the innerHTML to insert HTML correctly
    htmlOutput.innerHTML = formattedText;
}

// Function to apply sentence case after each full stop (period)
function sentenceCase(input) {
    var sentences = input.split('. ');
    var sentenceCaseSentences = sentences.map(function(sentence) {
        return sentence.trim() ? sentence.charAt(0).toUpperCase() + sentence.slice(1).toLowerCase() : '';
    });
    return sentenceCaseSentences.join('. ');
}
        // Function to convert HTML content to sentence case
        function sentenceCaseHTML(input) {
            // Split the input into paragraphs
            var paragraphs = input.split('</p>');
            var sentenceCaseParagraphs = [];

            // Iterate through paragraphs and apply sentence case to each
            for (var i = 0; i < paragraphs.length; i++) {
                var paragraph = paragraphs[i];
                if (paragraph.trim() !== '') {
                    // Extract the text within the paragraph tags
                    var text = paragraph.replace(/<\/?[^>]+(>|$)/g, "");
                    
                    // Convert the text to sentence case
                    var sentenceCaseText = sentenceCase(text);

                    // Reassemble the paragraph with sentence case text
                    sentenceCaseParagraphs.push('<p>' + sentenceCaseText + '</p>');
                }
            }

            // Join the paragraphs back together with their tags
            return sentenceCaseParagraphs.join('');
        }

        function copyToClipboard() {
            var htmlOutput = document.getElementById('htmlOutput');
            var range = document.createRange();
            range.selectNode(htmlOutput);
            window.getSelection().removeAllRanges();
            window.getSelection().addRange(range);
            document.execCommand('copy');
            window.getSelection().removeAllRanges();
            alert('HTML code copied to clipboard');
        }

        function copyText() {
            var outputText = document.getElementById('outputBox');
            outputText.select();
            document.execCommand('copy');
            alert('Text copied to clipboard');
        }
    </script>
</body>
</html>
