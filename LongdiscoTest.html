<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0"> 
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0;
            display: flex; 
            flex-direction: column;
            height: 10vh;
        }

        #container {
            display: flex;
            flex: 1;
            justify-content: space-between; /* Add this to space out the elements */
        }

        #leftBox, #rightBox {
            flex: 1;
            padding: 10px;
            box-sizing: border-box;
            border: 0px solid #ccc;
        }
        #leftBox textarea, #rightBox textarea {
            width: 90%;
            margin-bottom: 10px; /* Add margin-bottom to create space between text areas and button */
        }

        #convertButton {
            margin-top: 0px;
            padding: 10px;
            background-color: #4CAF50;
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
        }

        #counter {
            margin-top: 10px;
        }

        #htmlBox {
            flex: 1;
            padding: 10px;
            box-sizing: border-box;
            border: 0px solid #ccc;
        }

        #htmlBox h2 {
            margin-top: 0;
        }
    </style>
</head>
<body>
    <div id="container">
        <div id="leftBox">
           <grammarly-editor-plugin clientId="client_7LYtAZtGKRVHfCaESL3J8R" data-v-552086f4>
               <textarea id="inputBox" rows="10" placeholder="Enter text"></textarea>
           </grammarly-editor-plugin>
            <div id="leftCounter" class="counter"></div>
        </div>
        <div id="rightBox">
            <textarea id="outputBox" rows="10" placeholder="Converted text"></textarea>
            <div id="rightCounter" class="counter"></div>
        </div>
        <button id="convertButton" onclick="convertLongDescription()">Convert</button>
    </div>
   
    <div id="htmlBox">
        <h2>Converted HTML</h2>
        <div id="htmlOutput"></div>
        <button onclick="convertToHTML()">Convert to HTML</button>
    </div>
   
    <div>
        <h1>Instructions: <a href="https://docs.google.com/document/d/1dvMZ7-vK3PykbRRRWjDSqgFD-uFATRzMAZLkm9Gaxp0/edit#heading=h.x5plgr8op2n5">Phase 4 Review and Revise Product Long Description</a></h1>
        <ol>
            <li><strong>The Long Description will start with the First Link which will contain the Product Title/Name, which will be the first line of the Enter Text Box.</strong></li>
            <li><strong>Followed by the first line of the Product Title, there would be 5 Bullet Pointers encapsulated as below Example:
                <pre>                        
                    &lt;p&gt; &lt;strong&gt;Title&lt;/strong&gt; &lt;/p&gt;
                    &lt;ul&gt;
                    &lt;li&gt;Feature Bullet 1&lt;/li&gt;
                    &lt;li&gt;Feature Bullet 2&lt;/li&gt;
                    &lt;li&gt;Feature Bullet 3&lt;/li&gt;
                    &lt;li&gt;Feature Bullet 4&lt;/li&gt;
                    &lt;li&gt;Feature Bullet 5&lt;/li&gt;
                    &lt;/ul&gt;
                </pre>
            <li><strong> All product-long descriptions need to have at least five bullets.
            <li><strong>If the product has fewer than five bullets
                    First, see if any of the existing bullets can be broken up into separate claims/features
                    If more bullets are still needed, pull info out of the product's short description or label, prioritizing features, claims, and product size
                    Claims are things like “Paraben Free,” “Vegan”, “Organic,” and “Cruelty-Free”
    
            <li><strong><a href="https://drive.google.com/file/d/16AB6UCd5ihPNpo3wC0zolrRuiIGuonOY/view?usp=sharing">The trick for Long Description Video(Old)</a>
            <li><strong><a href="https://drive.google.com/file/d/1g3sg5r3wXkmNhFSejqmtInTzVtX-6tLi/view?usp=sharing">Notes for Long Description</a>
            <li><strong><a href="https://docs.google.com/spreadsheets/d/1nm0R_-snilgPF8V7PUbiHCYo3BKrajBpd8_bFahzB5s/edit#gid=0">Long Description Quick Input Formula Template(Old)</a>
            <li><strong><a href="https://www.awesomescreenshot.com/video/22489102?key=e9f93dc4825d3da467b464db6b818f22">How to Use above Tool? Video</a>
            </strong></li>
            <ul id="bulletList">
                <!-- Bullet points will be added dynamically here -->
            </ul>
        </ol>
    </div>
    <div id="app"></div>
    <script src="./index.mjs" type="module"></script>
    <script src="https://cdn.jsdelivr.net/npm/@grammarly/editor-sdk?clientId=client_7LYtAZtGKRVHfCaESL3J8R"></script>
    <script>
        function convertLongDescription() {
            var inputText = document.getElementById('inputBox').value;
            var outputText = document.getElementById('outputBox');
            var leftCounter = document.getElementById('leftCounter');
            var rightCounter = document.getElementById('rightCounter');

            // Split the input text into lines
            var lines = inputText.split('\n');

            // Use a default title
            var productTitle = "Title";

            // Create the Long Description structure with a blank line after the title
            var longDescription = '<p><strong>' + productTitle + '</strong></p>\n\n<ul>\n';

            // Add up to 5 bullet points
            for (var i = 0; i < 5; i++) {
                // Ensure we don't exceed the number of lines in input
                var bulletPoint = (i < lines.length) ? lines[i] : "";

                // Convert special character codes to symbols
                bulletPoint = bulletPoint.replace(/&quot;/g, '"');
                bulletPoint = bulletPoint.replace(/&amp;/g, '&');
                bulletPoint = bulletPoint.replace(/&lt;/g, '<');
                bulletPoint = bulletPoint.replace(/&gt;/g, '>');

                longDescription += '<li>' + bulletPoint + '</li>\n';
            }

            longDescription += '</ul>';

            // Replace newline characters in the output with <br> for new lines
            longDescription = longDescription.replace(/\n/g, '<br>');

            outputText.innerHTML = longDescription;

            // Update character counter
            leftCounter.innerText = 'Characters: ' + inputText.length;
            rightCounter.innerText = 'Characters: ' + longDescription.length;
        }

        // Function to convert input into HTML format with special character codes replaced
// Function to convert the input into HTML format with special character codes replaced
function convertToHTML() {
    var inputText = document.getElementById('inputBox').value;
    var htmlOutput = document.getElementById('htmlOutput');

    // Replace special character codes with symbols
    var formattedText = inputText.replace(/&quot;/g, '"');
    formattedText = formattedText.replace(/&amp;/g, '&');
    formattedText = formattedText.replace(/&lt;/g, '<');
    formattedText = formattedText.replace(/&gt;/g, '>');

    // Split the input text into lines
    var lines = formattedText.split('\n');

    // Start with an empty HTML structure
    var htmlDescription = '';

    // Check if there are lines to process
    if (lines.length > 0) {
        htmlDescription += '<p>' + lines[0] + '</p>\n<ul>\n';

        for (var i = 1; i < lines.length; i++) {
            // Skip empty lines
            if (lines[i].trim() !== '') {
                htmlDescription += '  <li>' + lines[i] + '</li>\n';
            }
        }

        htmlDescription += '</ul>';
    }

    htmlOutput.innerHTML = htmlDescription;
}

    </script>
</body>
</html>
